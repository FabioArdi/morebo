{% extends '_base.html' %}
{% set active_page = "index" %}
{% block title %}Home{% endblock %}
{% block content %}
<style>
  .carousel-item {
    transition: transform .5s ease-in-out;
  }

  input.star {
    display: none;
  }

  label.star {
    float: right;
    padding: 3px;
    margin: 0 10px 0 10px;
    font-size: 16px;
    color: rgb(255, 189, 34);
    transition: all .2s;
  }

  input.star:checked~label.star:before {
    content: '\f005';
    color: rgb(255, 189, 34);
    transition: all .25s;
  }

  input.star-1:checked~label.star:before {
    color: rgb(255, 189, 34);
  }

  input.star-5:checked~label.star:before {
    color: rgb(255, 189, 34);
    text-shadow: 0 0 20px rgb(175, 102, 47);
  }

  label.star:hover {
    transform: rotate(-10deg) scale(1.2);
  }

  label.star:before {
    content: '\f006';
    font-family: FontAwesome;
  }
</style>
<h1 class="text-center mb-5">Welcome to MoReBo</h1>
<p class="lead text-center mb-5">MoReBo is your personal movie recommendation bot. Simply tell us what you like, and
  we'll recommend movies you'll love.</p>
<hr>
<p class="text-center form-text">Choose from one of the two options below to get started!</p>

<div class="btn-group" role="group">
  <input type="radio" class="btn-check" name="btnradio" id="btnradio1" checked onclick="slide(this.id)">
  <label class="btn btn-outline-primary" for="btnradio1">Select your favourite movie</label>
  <input type="radio" class="btn-check" name="btnradio" id="btnradio2" onclick="slide(this.id)">
  <label class="btn btn-outline-primary" for="btnradio2">Rate multiple movies</label>
</div>
<div id="formCarousel" class="carousel slide mb-5" data-bs-interval="false">
  <div class="carousel-inner">
    <!-- Option 1: Enter favourite movie -->
    <div class="carousel-item active mt-5">
      <div class="form-group">
        <input type="text" class="form-control" id="movieInput" placeholder="Enter your favourite movie title">
      </div>
      <button type="submit" class="btn btn-primary mt-3">Get Recommendations</button>
    </div>
    <!-- Option 2: Rate multiple movies -->
    <div class="carousel-item">
      <div class="form-group mt-5">
        {% set movie_names = ['Inception', 'The Dark Knight', 'The Matrix', 'Interstellar', 'The Prestige'] %}
        {% for i in range(5) %}
        <div class="input-group mb-3">
          <input type="text" class="form-control" placeholder="{{movie_names[i]}}">
          <form>
            <input class="star star-5" id="star-{{i}}-5" type="radio" name="star" />
            <label class="star star-5" for="star-{{i}}-5"></label>
            <input class="star star-4" id="star-{{i}}-4" type="radio" name="star" />
            <label class="star star-4" for="star-{{i}}-4"></label>
            <input class="star star-3" id="star-{{i}}-3" type="radio" name="star" />
            <label class="star star-3" for="star-{{i}}-3"></label>
            <input class="star star-2" id="star-{{i}}-2" type="radio" name="star" />
            <label class="star star-2" for="star-{{i}}-2"></label>
            <input class="star star-1" id="star-{{i}}-1" type="radio" name="star" />
            <label class="star star-1" for="star-{{i}}-1"></label>
          </form>
        </div>
        {% endfor %}
      </div>
      <button type="submit" class="btn btn-primary mt-3">Get Recommendations</button>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
<script>
  var formCarousel = document.querySelector('#formCarousel')
  var carousel = new bootstrap.Carousel(formCarousel)
  var slideIndex = 0

  function slide(id) {
    if (id == 'btnradio1') {
      carousel.to(0)
      slideIndex = 0
    } else {
      carousel.to(1)
      slideIndex = 1
    }
  }
</script>
{% endblock %}